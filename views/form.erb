<!doctype html>
<html lang="en">
  <head>
    <title>Simple equation solver</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/stylesheet.css">
  </head>
  <body>
    <h1>Simple equation solver</h1>
    <p>This simple equation solver is able to solve a system of <var>m</var> unordered first-degree linear equations with <var>n</var> unknown variables.</p>
    <h2>Requirements:</h2>
    <ul>
      <li>All numbers must be rational, written with fractional (eg. <code>3/2</code>) or decimal notation (eg. <code>1.5</code>) or a combination hereof (eg. <code>1.2/0.8</code>).</li>
      <li>Plus (<code>+</code>), minus (<code>-</code>) and multiplication (<code>*</code>) operators are allowed.</li>
      <li>Parentheses are allowed, even nested, however two pairs of parentheses cannot be multiplied with each other.</li>
    </ul>
    
    <form action="/" method="post">
      <p><textarea name="equations" cols="100" rows="10"><%= params[:equations] %></textarea></p>
      <p>
        <input type="submit" value="Solve!">
        <input type="checkbox" name="notation" id="notation" value="decimal"<%= ' checked' if params[:notation] == 'decimal' %>>
        <label for="notation">Use decimal notation in output</label>
      </p>
    </form>
    <%= @solution %>
    
    <hr>
    <h2>Example (copy and paste):</h2>
    <pre>4x - 5y + (3z - y) = 4 * 4.5/2
2 * 1.5x - 3y + 8z = 22 + 2y
5x - 2(5/2 - 2y + 3.5z) = 20</pre>
  </body>
</html>
